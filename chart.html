<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gr√°fica de evoluci√≥n del clima - 7 d√≠as">
    <meta name="theme-color" content="#E8F4FD">
    <title>Gr√°fica del clima - El tiempo hoy</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Chart.js para gr√°ficas -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Configuration -->
    <script src="config.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="forecast-styles.css">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://api.openweathermap.org">
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-orange-50 to-cyan-50">
    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 bg-gradient-to-br from-blue-50 via-orange-50 to-cyan-50 flex items-center justify-center z-50">
        <div class="weather-main-card p-8 text-center">
            <div class="loading-spinner mx-auto mb-6"></div>
            <p class="weather-description text-slate-600">Cargando gr√°fica del clima...</p>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="hidden min-h-screen p-4">
        <!-- Main Chart Container -->
        <main class="max-w-6xl mx-auto">
            <!-- Chart Section -->
            <div id="main-chart-section" class="weather-main-card">
                <h2 class="title-section mb-6 text-center">Evoluci√≥n 7 d√≠as</h2>
                
                <!-- Large Chart Container -->
                <div class="large-chart-container">
                    <canvas id="main-weather-chart" width="800" height="400"></canvas>
                </div>
                
                <!-- Chart Legend - Grid 2x2 -->
                <div class="grid grid-cols-2 gap-x-4 gap-y-3 mt-6 max-w-sm mx-auto">
                    <div class="flex items-center gap-2">
                        <span class="text-lg">üå°Ô∏è</span>
                        <span class="text-xs legend-temp-max">Temp. m√°xima</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-lg">‚ùÑÔ∏è</span>
                        <span class="text-xs legend-temp-min">Temp. m√≠nima</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-lg">üåßÔ∏è</span>
                        <span class="text-xs legend-rain">Posibilidad lluvia</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-lg">üí®</span>
                        <span class="text-xs legend-wind">Intensidad viento</span>
                    </div>
                </div>
            </div>
            
            <!-- Back Button at Bottom -->
            <div class="text-center mt-8">
                <button onclick="goBack()" class="chart-nav-button-main flex items-center gap-2 mx-auto">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i>
                    <span>Volver</span>
                </button>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="chart-script.js"></script>
    
    <script>
        // Initialize page after DOM and Lucide are ready
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Lucide icons first
            lucide.createIcons();
            // Then initialize the chart page
            initializeChartPage();
        });
    </script>
</body>
</html>
